{
  "name": "pauls-electron-rpc",
  "version": "2.1.1",
  "description": "My RPC solution for exporting APIs from the electron background process to renderers and webviews.",
  "main": "index.js",
  "scripts": {
    "test": "node -e \"require('child_process').spawn(require('electron-prebuilt'), ['./test'], { stdio: 'inherit' })\""
  },
  "repository": {
    "user": "pfraze",
    "repo": "pauls-electron-rpc",
    "host": "github.com",
    "branch": "master",
    "apiHost": "api.github.com",
    "tarball_url": "https://api.github.com/repos/pfraze/pauls-electron-rpc/tarball/master",
    "clone_url": "https://github.com/pfraze/pauls-electron-rpc",
    "https_url": "https://github.com/pfraze/pauls-electron-rpc",
    "travis_url": "https://travis-ci.org/pfraze/pauls-electron-rpc",
    "zip_url": "https://github.com/pfraze/pauls-electron-rpc/archive/master.zip",
    "api_url": "https://api.github.com/repos/pfraze/pauls-electron-rpc"
  },
  "keywords": [
    "electron",
    "rpc",
    "ipc"
  ],
  "author": {
    "name": "Paul Frazee",
    "email": "pfrazee@gmail.com"
  },
  "license": "MIT",
  "homepage": "https://github.com/pfraze/pauls-electron-rpc#readme",
  "devDependencies": {
    "electron-prebuilt": "^1.2.6",
    "multicb": "^1.2.1",
    "tape": "^4.6.0",
    "tape-dom": "0.0.10",
    "zerr": "^1.0.4"
  },
  "gitHead": "a6d3924da6e17db2345c14b87f023498191e5caf",
  "_npmVersion": "3.9.3",
  "_nodeVersion": "6.2.1",
  "dist": {
    "shasum": "77b4a7a92494a79631291a1d60bedf4287874389",
    "tarball": "http://registry.npmjs.org/pauls-electron-rpc/-/pauls-electron-rpc-2.1.1.tgz"
  },
  "versions": [
    {
      "number": "1.0.0",
      "date": "2016-07-09T19:01:57.837Z"
    },
    {
      "number": "1.1.0",
      "date": "2016-07-09T19:40:25.064Z"
    },
    {
      "number": "1.2.0",
      "date": "2016-07-12T02:43:52.400Z"
    },
    {
      "number": "1.3.0",
      "date": "2016-07-13T00:15:41.878Z"
    },
    {
      "number": "1.3.1",
      "date": "2016-07-13T00:30:44.340Z"
    },
    {
      "number": "1.4.0",
      "date": "2016-07-20T17:40:16.510Z"
    },
    {
      "number": "1.5.0",
      "date": "2016-07-27T16:03:42.020Z"
    },
    {
      "number": "2.0.0",
      "date": "2016-08-04T23:21:52.976Z"
    },
    {
      "number": "2.0.1",
      "date": "2016-10-23T19:51:56.928Z"
    },
    {
      "number": "2.0.2",
      "date": "2016-11-09T19:35:56.351Z"
    },
    {
      "number": "2.1.0",
      "date": "2016-11-10T23:04:19.313Z"
    },
    {
      "number": "2.1.1",
      "date": "2016-11-10T23:13:19.902Z"
    }
  ],
  "created": "2016-07-09T19:01:57.837Z",
  "modified": "2016-11-10T23:13:19.902Z",
  "lastPublisher": {
    "name": "pfraze",
    "email": "pfrazee@gmail.com"
  },
  "owners": [
    {
      "name": "pfraze",
      "email": "pfrazee@gmail.com"
    }
  ],
  "readme": "# pauls-electron-rpc\n\nFeatures:\n\n - Supports RPC calls from the renderer or webview to the background process\n - Supports methods which return:\n   - Sync values\n   - Async CBs\n   - Promises\n   - Readable streams\n   - Writable streams\n - Permissions by examining the sender of the call\n - Monitors renderer/webview lifetime to automatically release streams\n - Optional timeout for async methods\n\nPossible future additions:\n\n - Duplex streams\n - Return objects with their own exported APIs\n\nTodos:\n\n - [ ] Make sure buffers are sent in a useful form. (I'm not sure what the buffer behaviors should be inside webpages, yet.)\n\n## Example usage\n\nIn a shared `example-api-manifest.js`:\n\n```js\nmodule.exports = {\n  // simple method-types\n  readFile: 'async',\n  readFileSync: 'sync',\n  sayHello: 'promise',\n  createReadStream: 'readable'\n}\n```\n\nIn the main electron process:\n\n```js\nvar rpc = require('pauls-electron-rpc')\nvar manifest = require('./example-api-manifest')\nvar fs = require('fs')\n\n// export over the 'example-api' channel\nvar api = rpc.exportAPI('example-api', manifest, {\n  // the exported API behaves like normal calls:\n  readFile: fs.readFile,\n  readFileSync: fs.readFileSync,\n  sayHello: () => return Promise.resolve('hello!'),\n  createReadStream: fs.createReadStream\n})\n\n// log any errors\napi.on('error', console.log)\n```\n\nIn the renderer or webview process:\n\n```js\nvar rpc = require('pauls-electron-rpc')\nvar manifest = require('./example-api-manifest')\n\n// import over the 'example-api' channel\nvar api = rpc.importAPI('example-api', manifest, { timeout: 30e3 })\n\n// now use, as usual:\napi.readFileSync('/etc/hosts') // => '...'\n```\n\n## API\n\n### rpc.exportAPI(channelName, manifest, methods, [globalPermissionCheck])\n\nMethods will be called with a `this` set to the `event` object from [electron ipc](http://electron.atom.io/docs/api/ipc-main/#event-object).\nDon't touch `returnValue`.\n\nYou can optionally specify a method for `globalPermissionCheck` with the following signature:\n\n```js\nfunction globalPermissionCheck (event, methodName, args) {\n  if (event.sender.getURL() != 'url-I-trust') return false\n  return true\n}\n```\n\nIf `globalPermissionCheck` is specified, and does not return true, the method call will respond with a 'Denied' error.\n\n### rpc.importAPI(channelName, manifest [,options])\n\nThe `options` may include a `timeout`, to specify how long async methods wait before erroring.\nSet to `false` to disable timeout.\n\n## Readable Streams\n\nReadable streams in the clientside are given a `.close()` method.\nAll serverside streams MUST implement `.close()` or `.destroy()`, either of which will be called.\n\n## Eval Requirement\n\nFor custom errors to output nicely in devtools, I had to use eval.\nIf anybody has a better idea, please file an issue or PR."
}