{
  "name": "peer-exchange",
  "version": "2.2.0",
  "description": "Decentralized peer discovery and signaling",
  "main": "index.js",
  "scripts": {
    "test": "standard src/*.js test/*.js index.js && dependency-check package.json && nyc tape test/*.js | faucet && nyc report",
    "test-browser": "npm run build && ./test/browser.sh && npm run source",
    "build": "rm -rf lib && babel --presets es2015 src -d lib",
    "source": "rm -rf lib && ln -s src lib",
    "prepublish": "npm run build",
    "publish": "npm run source"
  },
  "keywords": [
    "p2p",
    "peer",
    "dicovery",
    "exchange",
    "seed",
    "bootstrap",
    "signal",
    "hub"
  ],
  "author": {
    "name": "Matt Bell",
    "email": "mappum@gmail.com"
  },
  "license": "MIT",
  "dependencies": {
    "debug": "^2.2.0",
    "duplexify": "^3.4.5",
    "get-browser-rtc": "^1.0.2",
    "hat": "0.0.3",
    "isstream": "^0.1.2",
    "multiplex": "^6.6.1",
    "ndjson": "^1.4.3",
    "object-assign": "^4.1.0",
    "old": "^0.1.3",
    "on-object": "^1.0.0",
    "once": "^1.3.3",
    "pump": "^1.0.1",
    "pumpify": "^1.3.5",
    "pxp": "^1.0.0",
    "simple-peer": "^6.0.1",
    "through2": "^2.0.1",
    "websocket-stream": "^3.1.0"
  },
  "devDependencies": {
    "babel-cli": "^6.5.1",
    "babel-preset-es2015": "^6.5.0",
    "dependency-check": "^2.6.0",
    "faucet": "0.0.1",
    "nyc": "^6.4.4",
    "standard": "^8.2.0",
    "tape": "^4.5.1",
    "wrtc": "0.0.61",
    "zuul": "^3.10.1",
    "zuul-ngrok": "^4.0.0"
  },
  "repository": {
    "user": "mappum",
    "repo": "peer-exchange",
    "host": "github.com",
    "branch": "master",
    "apiHost": "api.github.com",
    "tarball_url": "https://api.github.com/repos/mappum/peer-exchange/tarball/master",
    "clone_url": "https://github.com/mappum/peer-exchange",
    "https_url": "https://github.com/mappum/peer-exchange",
    "travis_url": "https://travis-ci.org/mappum/peer-exchange",
    "zip_url": "https://github.com/mappum/peer-exchange/archive/master.zip",
    "api_url": "https://api.github.com/repos/mappum/peer-exchange"
  },
  "homepage": "https://github.com/mappum/peer-exchange#readme",
  "browser": {
    "electron-webrtc": false
  },
  "gitHead": "057921435649b8d8b7d4ecc3c04110959b480293",
  "_npmVersion": "3.10.3",
  "_nodeVersion": "6.7.0",
  "dist": {
    "shasum": "b81f446879347cf7d2401826f3ea61296d74ad51",
    "tarball": "http://registry.npmjs.org/peer-exchange/-/peer-exchange-2.2.0.tgz"
  },
  "versions": [
    {
      "number": "0.0.0",
      "date": "2016-02-19T05:45:25.726Z"
    },
    {
      "number": "0.1.0",
      "date": "2016-02-23T19:28:24.846Z"
    },
    {
      "number": "0.1.1",
      "date": "2016-02-23T22:18:33.100Z"
    },
    {
      "number": "0.1.2",
      "date": "2016-02-24T03:02:16.764Z"
    },
    {
      "number": "0.2.0",
      "date": "2016-02-25T22:12:36.985Z"
    },
    {
      "number": "0.3.0",
      "date": "2016-02-25T23:03:23.258Z"
    },
    {
      "number": "0.3.1",
      "date": "2016-03-10T18:28:45.510Z"
    },
    {
      "number": "0.4.0",
      "date": "2016-03-14T18:05:10.044Z"
    },
    {
      "number": "0.4.1",
      "date": "2016-03-14T22:45:07.307Z"
    },
    {
      "number": "0.5.0",
      "date": "2016-05-19T07:44:59.255Z"
    },
    {
      "number": "0.5.1",
      "date": "2016-05-19T20:13:08.311Z"
    },
    {
      "number": "0.5.2",
      "date": "2016-05-29T05:15:02.789Z"
    },
    {
      "number": "0.5.3",
      "date": "2016-05-30T02:06:31.606Z"
    },
    {
      "number": "1.0.0",
      "date": "2016-08-05T19:55:27.768Z"
    },
    {
      "number": "2.0.0",
      "date": "2016-10-03T21:39:04.762Z"
    },
    {
      "number": "2.1.0",
      "date": "2016-10-06T05:12:45.759Z"
    },
    {
      "number": "2.2.0",
      "date": "2016-10-06T19:17:03.534Z"
    }
  ],
  "created": "2016-02-19T05:45:25.726Z",
  "modified": "2016-10-06T19:17:03.534Z",
  "lastPublisher": {
    "name": "mappum",
    "email": "mappum@gmail.com"
  },
  "owners": [
    {
      "name": "mappum",
      "email": "mappum@gmail.com"
    }
  ],
  "readme": "# peer-exchange\n\n[![npm version](https://img.shields.io/npm/v/peer-exchange.svg)](https://www.npmjs.com/package/peer-exchange)\n[![Build Status](https://travis-ci.org/mappum/peer-exchange.svg?branch=master)](https://travis-ci.org/mappum/peer-exchange)\n[![Dependency Status](https://david-dm.org/mappum/peer-exchange.svg)](https://david-dm.org/mappum/peer-exchange)\n\n**Decentralized peer discovery and signaling**\n\n`peer-exchange` is a client for the Peer Exchange Protocol (PXP), a decentralized protocol for peer discovery and signaling. Rather than using centralized signal hubs, each node in the network exchanges peers and relays signaling data.\n\nThis client uses WebRTC for peer connections, but you may also use any other transport by manually connecting and passing in a duplex stream.\n\n## Usage\n\n`npm install peer-exchange`\n\n```js\nvar Exchange = require('peer-exchange')\n\nvar ex = new Exchange('some-network-id', { wrtc: wrtc })\n// The network id can be any string unique to your network.\n// When using Node.js, the `wrtc` option is required.\n// (This can come from the 'wrtc' or 'electron-webrtc' packages).\n\nex.on('connect', (conn) => {\n  // `conn` is a duplex stream multiplexed through the PXP connection,\n  // which can be used for your P2P protocol.\n  conn.pipe(something).pipe(conn)\n\n  // We can query our current peers for a new peer by calling `getNewPeer()`.\n  // `peer-exchange` will do the WebRTC signaling and connect to the peer.\n  if (ex.peers.length < 8) ex.getNewPeer()\n})\n\n// Bootstrap by connecting to one or more already-known PXP peers.\n// You can use any transport that creates a duplex stream (in this case TCP).\nvar socket = net.connect(8000, '10.0.0.1', () => ex.connect(socket))\n\n// You can optionally accept incoming connections using any transport.\nvar server = net.createServer((socket) => ex.accept(socket))\nserver.listen(8000)\n```\n\n### API\n\n## Exchange\n\n```js\nvar Exchange = require('peer-exchange')\n```\n\n#### Methods\n\n\n#### `var ex = new Exchange(networkId, [opts])`\n\nCreates a new exchange, which is used to manage connections to peers in a P2P network. After we establish some initial connections, we can query our current peers for new peers. Additionally, we will share peers when we receive queries.\n\n`networkId` should be a string unique to the network. Nodes can only peer with other nodes that use the same ID. If you need to participate in multiple networks, create multiple `Exchange` instances with different IDs.\n\n`opts` should contain the following properties:\n - `wrtc`, *Object* - A WebRTC implementation for Node.js clients (e.g. [`wrtc`](https://github.com/js-platform/node-webrtc) or [`electron-webrtc`](https://github.com/mappum/electron-webrtc)). In browsers, the built-in implementation is used by default.\n\n----\n#### `ex.connect(socket, [callback])`\n\nManually adds a peer. This is necessary to bootstrap our exchange with initial peers which we can query for additional peers. This method is for *outgoing* connections, for *incoming* connections use `accept`.\n\n`socket` should be a duplex stream that represents a connection to a peer which implements the Peer Exchange Protocol.\n\n`callback` will be called with `callback(err, connection)`, where `connection` is a duplex stream which may be used by your application for your P2P protocol.\n\n----\n#### `ex.accept(socket, [callback])`\n\nSimilar to `connect`, but used with *incoming* peer connections.\n\n----\n#### `ex.getNewPeer([callback])`\n\nQueries out current peers for a new peer, then connects to it via WebRTC. The already-connected peer will act as a relay for signaling.\n\nThe `'connect'` event will be emitted once the connection is established.\n\nThis will error if our exchange is not connected to any peers.\n\n`callback` will be called with `callback(err, connection)`.\n\n----\n#### `ex.close([callback])`\n\nCloses all peer connections in the exchange and prevents adding any new connections.\n\n`callback` is called with `callback(err)` when the exchange is closed (or when an error occurs).\n\n----\n\n#### Properties\n\n#### `ex.peers`\n\nAn array of connected peers. Useful for iterating through peers or getting the number of connections.\n\n#### `ex.networkId`\n\nThe network ID provided in the constructor.\n\n----\n\n#### Events\n\n#### `ex.on('connect', function (conn) { ... })`\n\nEmitted whenever a new peer connection is established (both incoming and outgoing).\n\n#### `ex.on('error', function (err) { ... })`\n\nEmitted when an error occurs.\n\n----\n\n## Security Notes\n\nSome efforts were made to make this module DoS-resistant, but there are probably still some weaknesses.\n\nIt is recommended to use an authenticated transport when possible (e.g. WebSockets over HTTPS) for initial bootstrapping to prevent man-in-the-middle attacks (attackers could control all the peers you connect to, which can be very bad in some applications).\n\n## Comparison with `signalhub`\n\nThis module provides functionality similar to [`signalhub`](https://github.com/mafintosh/signalhub), where P2P nodes can get addresses of new peers and establish connections by relaying signaling data. However, this module differs by getting all nodes to provide this \"hub\" service, rather than a few centralized servers. It also only exchanges currently-connected peer addresses rather than providing general-purpose broadcasting.\n\nNote that `signalhub` may be better suited for some applications, for instance when connecting to peers in small swarms when no peer addresses are initially known (e.g. BitTorrent swarms). In the future, a DHT could help with finding initial peers for this sort of use case.\n"
}