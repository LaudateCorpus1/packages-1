{
  "name": "addon-helloworld",
  "version": "1.5.0",
  "description": "Hello World add-on for stremio",
  "main": "index.js",
  "scripts": {
    "test": "node test/*",
    "start": "node index.js"
  },
  "repository": {
    "user": "Ivshti",
    "repo": "addon-helloworld",
    "host": "github.com",
    "branch": "master",
    "apiHost": "api.github.com",
    "tarball_url": "https://api.github.com/repos/Ivshti/addon-helloworld/tarball/master",
    "clone_url": "https://github.com/Ivshti/addon-helloworld",
    "https_url": "https://github.com/Ivshti/addon-helloworld",
    "travis_url": "https://travis-ci.org/Ivshti/addon-helloworld",
    "zip_url": "https://github.com/Ivshti/addon-helloworld/archive/master.zip",
    "api_url": "https://api.github.com/repos/Ivshti/addon-helloworld"
  },
  "keywords": [
    "stremio",
    "stremio-addons",
    "addons"
  ],
  "author": {
    "name": "Ivo Georgiev"
  },
  "license": "MIT",
  "homepage": "https://github.com/Ivshti/addon-helloworld",
  "dependencies": {
    "magnet-uri": "^5.1.3",
    "stremio-addons": "^2.5.1"
  },
  "gitHead": "e95984c444a3d0eced74b67a6bdb70fe63fee362",
  "_npmVersion": "3.10.6",
  "_nodeVersion": "4.4.7",
  "dist": {
    "shasum": "ec2a44efe0ea2758a34d4061c6c55a51fa974c49",
    "tarball": "http://registry.npmjs.org/addon-helloworld/-/addon-helloworld-1.5.0.tgz"
  },
  "versions": [
    {
      "number": "1.0.0",
      "date": "2016-04-11T18:25:24.005Z"
    },
    {
      "number": "1.1.0",
      "date": "2016-04-11T18:39:24.186Z"
    },
    {
      "number": "1.3.1",
      "date": "2016-04-22T17:13:23.376Z"
    },
    {
      "number": "1.4.0",
      "date": "2016-07-16T14:37:52.221Z"
    },
    {
      "number": "1.4.1",
      "date": "2016-07-16T19:42:04.171Z"
    },
    {
      "number": "1.5.0",
      "date": "2016-09-04T16:09:52.475Z"
    }
  ],
  "created": "2016-04-11T18:25:24.005Z",
  "modified": "2016-09-04T16:09:52.475Z",
  "lastPublisher": {
    "name": "ivogeorgiev",
    "email": "ivo@linvo.com"
  },
  "owners": [
    {
      "name": "ivogeorgiev",
      "email": "ivo@linvo.com"
    }
  ],
  "readme": "# Hello world add-on for Stremio\n### Adds a few public domain movies to Stremio\n## Basic tutorial on how to re-create this add-on step by step\n\nStep 1: init a npm project\n=========================\n\n**Pre-requisites: Node.js, Git**\n\nThis is the first, boilerplate step of creating an add-on for Stremio. Create a node.js project and add the [stremio-addons](http://github.com/Stremio/stremio-addons) module as dependency.\n\n```bash\nmkdir stremio-hello-world\ncd stremio-hello-world\nnpm init\nnpm install stremio-addons --save\ngit add *\ngit commit -a -m \"initial commit\"\n```\n\nStep 2: Create index.js, fill manifest\n===========================\n\nIn this step, we define the add-on name, description and purpose.\n\nCreate an index.js file:\n```javascript\nvar Stremio = require(\"stremio-addons\");\n\nprocess.env.STREMIO_LOGGING = true; // enable server logging for development purposes\n\nvar manifest = { \n    // See https://github.com/Stremio/stremio-addons/blob/master/docs/api/manifest.md for full explanation\n    \"id\": \"org.stremio.helloworld\",\n    \"version\": \"1.0.0\",\n\n    \"name\": \"Example Addon\",\n    \"description\": \"Sample addon providing a few public domain movies\",\n    \"icon\": \"URL to 256x256 monochrome png icon\", \n    \"background\": \"URL to 1366x756 png background\",\n\n    // Properties that determine when Stremio picks this add-on\n    \"types\": [\"movie\", \"series\"], // your add-on will be preferred for those content types\n    \"idProperty\": \"imdb_id\", // the property to use as an ID for your add-on; your add-on will be preferred for items with that property; can be an array\n    // We need this for pre-4.0 Stremio, it's the obsolete equivalent of types/idProperty\n    \"filter\": { \"query.imdb_id\": { \"$exists\": true }, \"query.type\": { \"$in\":[\"series\",\"movie\"] } }\n};\n\nvar dataset = {\n    // Some examples of streams we can serve back to Stremio ; see https://github.com/Stremio/stremio-addons/blob/master/docs/api/stream/stream.response.md\n    \"tt0051744\": { infoHash: \"9f86563ce2ed86bbfedd5d3e9f4e55aedd660960\" }, // house on haunted hill 1959\n    \"tt1254207\": { url: \"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4\", availability: 1 }, // big buck bunny, HTTP stream\n    \"tt0031051\": { yt_id: \"m3BKVSpP80s\", availability: 3 }, // The Arizona Kid, 1939; YouTube stream\n    \"tt0137523\": { externalUrl: \"https://www.netflix.com/watch/26004747\" }, // Fight Club, 1999; redirect to Netflix\n};\n```\n\nStep 3: init an add-on server\n============================\n\nAdd to the end of your index.js:\n```javascript\nvar methods = { };\nvar addon = new Stremio.Server(methods, manifest);\n```\n\nThis creates an Add-on server object with our manifest and no methods. We can later define methods using the ``methods`` object we created.\n\nAppend again:\n```javascript\nvar server = require(\"http\").createServer(function (req, res) {\n    addon.middleware(req, res, function() { res.end() }); // wire the middleware - also compatible with connect / express\n}).on(\"listening\", function()\n{\n    console.log(\"Sample Stremio Addon listening on \"+server.address().port);\n}).listen(process.env.PORT || 7000);\n```\n\n**This initializes a server for the add-on on port 7000. This is the server Stremio clients should connect to to use the add-on.**\n\n_Optional:_ Alternatively, if you're making an integration for a website / web app that uses Express/Connect you can embed the add-on in your server code as such: ``app.get('/my-stremio-addon', addon.middleware)``\n\nStep 4: basic streaming\n==============================\n\nTo implement basic streaming, we will set-up a dummy dataset with a few public domain movies. \n\nAnd then implement ``stream.find`` as follows:\n\n```javascript\n/* Methods\n */\nmethods[\"stream.find\"] = function(args, callback) {\n    if (! args.query) return callback();\n    callback(null, [dataset[args.query.imdb_id]]);\n}\n```\n\n**As you can see, this is an add-on that allows Stremio to stream 6 public domain movies - in about 40 lines of code.**\n\nDepending on your source, you can implement streaming (stream.find) or catalogues (``meta.find``, ``meta.get``) of ``movie``, ``series``, ``channel`` or ``tv`` content types.\n\nTo load that add-on in the desktop Stremio, start it with ``start --addon=http://localhost:7000/stremioget/stremio/v1`` command line.\n\nWindows: ``%LOCALAPPDATA%\\Programs\\LNV\\Stremio\\Stremio.exe start --addon=http://localhost:7000/stremioget/stremio/v1``\n\nmacOS: ``/Applications/Stremio.app/Contents/MacOS/Electron start --addon=http://localhost:7000/stremioget/stremio/v1``\n\nStep 5: implement metadata (Discover catalogue)\n==============================\n\nWe have 3 methods serving meta: ``meta.find`` handles loading the catalogue and metadata, ``meta.get`` which loads metadata for individual items, and ``meta.search`` which performs a full text search.\n\n**For now, we have the simple goal of loading the movies we provide on the top of Discover.**\n\nAppend to index.js:\n```javascript\n// Add a \"Hello World\" tab in Discover by adding our own sort\nmanifest.sorts = [{ prop: \"popularities.helloWorld\", name: \"Hello World\", types: [\"movie\"] }];\n\n// To provide meta for our movies, we'll just proxy the official cinemeta add-on\nvar client = new Stremio.Client();\nclient.add(\"http://cinemeta.strem.io/stremioget/stremio/v1\");\n\nmethods[\"meta.find\"] = function(args, callback) {\n    // Proxy Cinemeta, but get only our movies\n    args.query.imdb_id = args.query.imdb_id || { $in: Object.keys(dataset) };\n    client.meta.find(args, function(err, res) {\n        callback(err, res ? res.map(function(r) { r.popularities = { helloWorld: 10000 }; return r }) : null);\n    });\n}\n```\n\n\nStep 6: result\n===================\n\n![discover](screenshots/discover.png)\n![streaming from add-on](screenshots/streaming.png)\n\n**And in the [open-source client](https://github.com/Stremio/stremio-addons-client/)**\n\n![streaming from add-on](screenshots/stremio-addons-client.png)\n![discover](screenshots/stremio-addons-client-discover.png)\n\n\n\n"
}