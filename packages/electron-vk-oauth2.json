{
  "name": "electron-vk-oauth2",
  "version": "1.0.2",
  "description": "A module which helps to complete vk.com OAuth2 process for standalone apps.",
  "main": "index.js",
  "scripts": {
    "test": "mocha test",
    "cover": "istanbul cover _mocha test"
  },
  "repository": {
    "user": "Sobesednik",
    "repo": "electron-vk-oauth2",
    "host": "github.com",
    "branch": "master",
    "apiHost": "api.github.com",
    "tarball_url": "https://api.github.com/repos/Sobesednik/electron-vk-oauth2/tarball/master",
    "clone_url": "https://github.com/Sobesednik/electron-vk-oauth2",
    "https_url": "https://github.com/Sobesednik/electron-vk-oauth2",
    "travis_url": "https://travis-ci.org/Sobesednik/electron-vk-oauth2",
    "zip_url": "https://github.com/Sobesednik/electron-vk-oauth2/archive/master.zip",
    "api_url": "https://api.github.com/repos/Sobesednik/electron-vk-oauth2"
  },
  "keywords": [
    "oauth",
    "oauth2",
    "vk",
    "electron"
  ],
  "author": {
    "name": "Anton",
    "email": "anton@sobedednik.media"
  },
  "license": "MIT",
  "homepage": "https://github.com/Sobesednik/electron-vk-oauth2#readme",
  "dependencies": {
    "debug": "^2.2.0"
  },
  "devDependencies": {
    "chai": "^3.5.0",
    "chai-as-promised": "^5.3.0",
    "istanbul": "^0.4.4",
    "mocha": "^2.5.3",
    "proxyquire": "^1.7.10",
    "sinon": "^1.17.4",
    "sinon-chai": "^2.8.0"
  },
  "gitHead": "398a68fb004396f3f625d2312461a36eb31010cb",
  "_npmVersion": "3.10.3",
  "_nodeVersion": "6.3.0",
  "dist": {
    "shasum": "9135a6855084c792f00fe455540fb97b24539269",
    "tarball": "http://registry.npmjs.org/electron-vk-oauth2/-/electron-vk-oauth2-1.0.2.tgz"
  },
  "versions": [
    {
      "number": "1.0.0",
      "date": "2016-07-22T19:21:52.222Z"
    },
    {
      "number": "1.0.1",
      "date": "2016-07-22T19:31:23.089Z"
    },
    {
      "number": "1.0.2",
      "date": "2016-07-22T19:34:48.693Z"
    }
  ],
  "created": "2016-07-22T19:21:52.222Z",
  "modified": "2016-07-22T19:34:48.693Z",
  "lastPublisher": {
    "name": "zvr",
    "email": "anton@sobesednik.media"
  },
  "owners": [
    {
      "name": "zvr",
      "email": "anton@sobesednik.media"
    }
  ],
  "readme": "# electron-vk-oauth2\nA module which helps to complete vk.com OAuth2 process for standalone apps.\n\n[![npm version](https://badge.fury.io/js/electron-vk-oauth2.svg)](https://badge.fury.io/js/electron-vk-oauth2)\n\n![Screenshot](/screenshot.png?raw=true \"electron-vk-oauth2\")\n\n## Usage\n\nTo use this module, install it with `npm` and require in your electron app.\nThe `electron` dependency is not supplied with this module, so you have to\ninstall it manually.\n\n```bash\nnpm i --save electron-vk-oauth2\n```\n\n```javascript\nconst electron = require('electron');\nconst {app, BrowserWindow} = electron;\nconst authenticateVK = require('electron-vk-oauth2');\n\nlet win;\nfunction createWindow() {\n  win = new BrowserWindow({width: 800, height: 600});\n  win.loadURL(`file://${__dirname}/index.html`);\n\n  authenticateVK({\n      appId: '1234567',\n      scope: 'photos',\n      revoke: true,\n  }, {\n      parent: win,\n  }).then((res) => {\n      console.log('Access token: %s', res.accessToken);\n      console.log('User id: %s', res.userId);\n      console.log('Expires in: %s', res.expiresIn);\n      // now you can make requests to API using access token and pass data to\n      // to the renderer process.\n  }).catch((err) => {\n      // E.g., user denied permissions, or user closed the window without\n      // authorising the app.\n      console.error(err);\n  });\n}\n\napp.on('ready', createWindow);\n```\n\n\nThe module exports a function which returns a promise. The promise will be\nfulfilled once the user has completed authorisation and granted all required\npermissions. If the user closed the window without authorising the app, the\npromise will be rejected. If the user denied permissions, or any other error\noccured, the promise will be rejected.\n\n### Options\n\nThe first argument is vk specific options:\n- *appId*: your app id\n- *scope*: required scope (see [access permissions](https://new.vk.com/dev/permissions))\n- *display* [popup]: display type, one of the following: page, popup, mobile\n- *revoke*: whether to ask users for permissions every time\n- *authorizeUrl*: https://oauth.vk.com/authorize but you can override it\n- *redirectUri*: https://oauth.vk.com/blank.html for standalone apps, but the\noption to override it is available if the API changes in future. Note that all\nstandalone apps are required to use this address, otherwise it's impossible to\ncomplete authorisation.\n\nSee more info about vk auth flow for standalone apps\n[here](https://new.vk.com/dev/implicit_flow_user).\n\n### Window Options\n\nThe second argument is options for the window. By default, it will be open with\nwidth of `655` and height of `430` and `null` parent, but you can specify these\nparameters as properties of the object, or you can pass other options supported\nby the [BrowserWindow](http://electron.atom.io/docs/api/browser-window/):\n\n```javascript\nconst authenticateVK = require('electron-vk-oauth2');\n\nauthenticateVK({\n    appId: 1234567,\n    display: page,\n}, {\n    width: 1024,\n    height: 720,\n    parent: win, // main application window\n    minimizable: false,\n    maximizable: false,\n    resizable: false,\n});\n```\n\n### Debug\n\nThis package uses `debug` module. To enable printing debugging information to\nconsole, start your app with `DEBUG=electron-vk-oauth2` environment variable.\n\n```bash\nelectron-vk-oauth2 open vk auth window https://oauth.vk.com/authorize?state=301&response_type=token&client_id=1234567&scope=photos&display=popup&revoke=1&redirect_uri=https%3A%2F%2Foauth.vk.com%2Fblank.html +13ms\n# user logged in\nelectron-vk-oauth2 Redirect to https://oauth.vk.com/authorize?client_id=5551949&redirect_uri=https%3A%2F%2Foauth.vk.com%2Fblank.html&response_type=token&scope=4&v=&state=301&revoke=1&display=popup&__q_hash=xyz +5s\n# user denied permissions\nelectron-vk-oauth2 Redirect to https://oauth.vk.com/blank.html#error=access_denied&error_reason=user_denied&error_description=User denied your request&state=301 +11s\nelectron-vk-oauth2 { error: 'access_denied', error_reason: 'user_denied', error_description: 'User denied your request', state: '301' } +1ms\n# or user allowed permissions\nelectron-vk-oauth2 Redirect to https://oauth.vk.com/blank.html#access_token=xyz&expires_in=86400&user_id=123&state=1462 +1s\nelectron-vk-oauth2 { access_token: 'xyz', expires_in: '86400', user_id: '123', state: '1462' } +1ms\n```\n"
}